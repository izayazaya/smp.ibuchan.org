'use strict';

const api = require('../constants/api.cjs');
const result = require('../helpers/result.cjs');
require('lodash');

async function fetchMinecraftProfile(nick) {
  const route = `minecraft/profile/lookup/name/${nick}`;
  const url = `${api.RouteBases.mcservices}/${route}`;
  const response = await fetch(url);
  if (!response.ok)
    return result.notOkResult(response);
  const data = await response.json();
  return { success: true, data };
}

exports.fetchMinecraftProfile = fetchMinecraftProfile;
