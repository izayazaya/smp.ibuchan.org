import { RouteBases } from '../constants/api.mjs';
import { notOkResult } from '../helpers/result.mjs';
import 'lodash';

async function fetchMinecraftProfile(nick) {
  const route = `minecraft/profile/lookup/name/${nick}`;
  const url = `${RouteBases.mcservices}/${route}`;
  const response = await fetch(url);
  if (!response.ok)
    return notOkResult(response);
  const data = await response.json();
  return { success: true, data };
}

export { fetchMinecraftProfile };
